<mxfile host="app.diagrams.net" modified="2023-04-14T13:19:52.330Z" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/112.0.0.0 Safari/537.36" etag="508AbZh5Suv3m5MhpcwM" version="21.1.4" type="github" pages="3">
  <diagram name="ipvs-hook" id="Nb5IXyK1JuDazcwR1EP6">
    <mxGraphModel dx="2261" dy="796" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="ZrajQLCjrcMDGIsiWecS-1" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="100" y="335" width="180" height="220" as="geometry" />
        </mxCell>
        <mxCell id="ZrajQLCjrcMDGIsiWecS-2" value="SNAT" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="140" y="385" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ZrajQLCjrcMDGIsiWecS-3" value="ip_vs_in_hook" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="140" y="435" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ZrajQLCjrcMDGIsiWecS-4" value="ip_vs_out_hook" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="140" y="485" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ZrajQLCjrcMDGIsiWecS-5" value="100" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="240" y="385" width="40" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ZrajQLCjrcMDGIsiWecS-6" value="99" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="240" y="435" width="40" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ZrajQLCjrcMDGIsiWecS-7" value="98" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="240" y="485" width="40" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ZrajQLCjrcMDGIsiWecS-8" value="优先级" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="230" y="345" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ZrajQLCjrcMDGIsiWecS-9" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="580" y="340" width="180" height="220" as="geometry" />
        </mxCell>
        <mxCell id="ZrajQLCjrcMDGIsiWecS-10" value="DNAT" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="620" y="390" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ZrajQLCjrcMDGIsiWecS-11" value="ip_vs_out_hook" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="620" y="440" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ZrajQLCjrcMDGIsiWecS-12" value="ip_vs_in_hook" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="620" y="490" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ZrajQLCjrcMDGIsiWecS-13" value="-100" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="720" y="390" width="40" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ZrajQLCjrcMDGIsiWecS-14" value="-99" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="720" y="440" width="40" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ZrajQLCjrcMDGIsiWecS-15" value="-98" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="720" y="490" width="40" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ZrajQLCjrcMDGIsiWecS-16" value="优先级" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="710" y="350" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ZrajQLCjrcMDGIsiWecS-17" value="LOCAL_IN" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=#000000;fontStyle=1" parent="1" vertex="1">
          <mxGeometry y="425" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ZrajQLCjrcMDGIsiWecS-18" value="LOCAL_OUT" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=#000000;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="800" y="430" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ZrajQLCjrcMDGIsiWecS-29" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="280" y="600" width="300" height="80" as="geometry" />
        </mxCell>
        <mxCell id="ZrajQLCjrcMDGIsiWecS-31" value="ip_vs_forward_icmp" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="310" y="620" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ZrajQLCjrcMDGIsiWecS-32" value="ip_vs_out_hook" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="460" y="620" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ZrajQLCjrcMDGIsiWecS-34" value="99" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="345" y="650" width="40" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ZrajQLCjrcMDGIsiWecS-35" value="100" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="490" y="650" width="40" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ZrajQLCjrcMDGIsiWecS-36" value="优先级" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="280" y="650" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ZrajQLCjrcMDGIsiWecS-37" value="FORWARD" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="400" y="710" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ZrajQLCjrcMDGIsiWecS-38" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" target="ZrajQLCjrcMDGIsiWecS-39" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint y="640" as="sourcePoint" />
            <mxPoint x="160" y="640" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ZrajQLCjrcMDGIsiWecS-39" value="Route" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" parent="1" vertex="1">
          <mxGeometry x="162.5" y="612.5" width="55" height="55" as="geometry" />
        </mxCell>
        <mxCell id="ZrajQLCjrcMDGIsiWecS-41" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" target="ZrajQLCjrcMDGIsiWecS-29" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="220" y="640" as="sourcePoint" />
            <mxPoint x="173" y="650" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ZrajQLCjrcMDGIsiWecS-42" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="ZrajQLCjrcMDGIsiWecS-39" target="ZrajQLCjrcMDGIsiWecS-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="230" y="650" as="sourcePoint" />
            <mxPoint x="290" y="650" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ZrajQLCjrcMDGIsiWecS-43" value="Route" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" parent="1" vertex="1">
          <mxGeometry x="642.5" y="240" width="55" height="55" as="geometry" />
        </mxCell>
        <mxCell id="ZrajQLCjrcMDGIsiWecS-44" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="1" source="ZrajQLCjrcMDGIsiWecS-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="200" y="623" as="sourcePoint" />
            <mxPoint x="190" y="200" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ZrajQLCjrcMDGIsiWecS-45" value="" style="endArrow=none;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="100" y="200" as="sourcePoint" />
            <mxPoint x="760" y="200" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ZrajQLCjrcMDGIsiWecS-46" value="" style="endArrow=classic;html=1;rounded=0;" parent="1" source="ZrajQLCjrcMDGIsiWecS-43" target="ZrajQLCjrcMDGIsiWecS-9" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="670" y="300" as="sourcePoint" />
            <mxPoint x="670" y="200" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ZrajQLCjrcMDGIsiWecS-47" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" target="ZrajQLCjrcMDGIsiWecS-43" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="670" y="200" as="sourcePoint" />
            <mxPoint x="680" y="350" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ZrajQLCjrcMDGIsiWecS-48" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="ZrajQLCjrcMDGIsiWecS-29" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="680" y="305" as="sourcePoint" />
            <mxPoint x="800" y="640" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ZrajQLCjrcMDGIsiWecS-49" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="ZrajQLCjrcMDGIsiWecS-9" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="680" y="305" as="sourcePoint" />
            <mxPoint x="670" y="640" as="targetPoint" />
          </mxGeometry>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="bKLBo4ssmLD07pADuglC" name="ipvs-test-topo">
    <mxGraphModel dx="1434" dy="796" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="-zAF9fwOarJnG1TRg4sx-21" value="" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="70" y="30" width="850" height="575" as="geometry" />
        </mxCell>
        <mxCell id="-zAF9fwOarJnG1TRg4sx-25" value="kernel ipvs" style="ellipse;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="450" y="425" width="90" height="50" as="geometry" />
        </mxCell>
        <mxCell id="-zAF9fwOarJnG1TRg4sx-8" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" parent="1" vertex="1">
          <mxGeometry x="130" y="225" width="730" height="65" as="geometry" />
        </mxCell>
        <mxCell id="-zAF9fwOarJnG1TRg4sx-3" value="" style="rounded=1;whiteSpace=wrap;html=1;dashed=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="130" y="70" width="340" height="120" as="geometry" />
        </mxCell>
        <mxCell id="-zAF9fwOarJnG1TRg4sx-1" value="veth1" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="160" y="240" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="-zAF9fwOarJnG1TRg4sx-2" value="veth1_ns" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="160" y="160" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="-zAF9fwOarJnG1TRg4sx-4" value="ns1" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=14;" parent="1" vertex="1">
          <mxGeometry x="410" y="70" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="-zAF9fwOarJnG1TRg4sx-5" value="python3 -m http.server 80" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="150" y="80" width="80" height="40" as="geometry" />
        </mxCell>
        <mxCell id="-zAF9fwOarJnG1TRg4sx-6" value="" style="endArrow=none;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="1" source="-zAF9fwOarJnG1TRg4sx-1" target="-zAF9fwOarJnG1TRg4sx-2" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="160" y="340" as="sourcePoint" />
            <mxPoint x="210" y="290" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="-zAF9fwOarJnG1TRg4sx-7" value="&lt;b&gt;IP: 100.0.0.1/24&lt;br&gt;Route:&amp;nbsp;100.100.100.100/32 dev veth1_ns&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="230" y="160" width="240" height="30" as="geometry" />
        </mxCell>
        <mxCell id="-zAF9fwOarJnG1TRg4sx-9" value="" style="rounded=1;whiteSpace=wrap;html=1;dashed=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="520" y="70" width="340" height="120" as="geometry" />
        </mxCell>
        <mxCell id="-zAF9fwOarJnG1TRg4sx-10" value="veth2" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="770" y="240" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="-zAF9fwOarJnG1TRg4sx-11" value="veth2_ns" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="770" y="160" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="-zAF9fwOarJnG1TRg4sx-12" value="ns2" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=14;" parent="1" vertex="1">
          <mxGeometry x="550" y="70" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="-zAF9fwOarJnG1TRg4sx-13" value="python3 -m http.server 80" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="760" y="80" width="80" height="40" as="geometry" />
        </mxCell>
        <mxCell id="-zAF9fwOarJnG1TRg4sx-14" value="" style="endArrow=none;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="1" source="-zAF9fwOarJnG1TRg4sx-10" target="-zAF9fwOarJnG1TRg4sx-11" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="770" y="340" as="sourcePoint" />
            <mxPoint x="820" y="290" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="-zAF9fwOarJnG1TRg4sx-15" value="&lt;b&gt;IP: 100.0.0.2/24&lt;br&gt;Route:&amp;nbsp;100.100.100.100/32 dev veth2_ns&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=right;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="520" y="160" width="240" height="30" as="geometry" />
        </mxCell>
        <mxCell id="-zAF9fwOarJnG1TRg4sx-16" value="br0" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=14;" parent="1" vertex="1">
          <mxGeometry x="465" y="240" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="-zAF9fwOarJnG1TRg4sx-17" value="&lt;b&gt;Route:&amp;nbsp;100.0.0.0/24 dev br0&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="545" y="340" width="175" height="40" as="geometry" />
        </mxCell>
        <mxCell id="-zAF9fwOarJnG1TRg4sx-18" value="&lt;b&gt;ipvs0&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#A7CF99;strokeColor=#3A5431;fontColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="560" y="435" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="-zAF9fwOarJnG1TRg4sx-19" value="&lt;b&gt;type: dummy&lt;/b&gt;&lt;br&gt;&lt;b&gt;state: DOWN&lt;/b&gt;&lt;br&gt;&lt;b&gt;IP: 100.100.100.100/32&lt;/b&gt;&lt;br&gt;&lt;b&gt;Route:&amp;nbsp;local 100.100.100.100 dev ipvs0&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="625" y="420" width="230" height="60" as="geometry" />
        </mxCell>
        <mxCell id="-zAF9fwOarJnG1TRg4sx-20" value="curl 100.100.100.100:80" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="422.5" y="525" width="145" height="40" as="geometry" />
        </mxCell>
        <mxCell id="-zAF9fwOarJnG1TRg4sx-22" value="kernel route" style="ellipse;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="450" y="335" width="90" height="50" as="geometry" />
        </mxCell>
        <mxCell id="-zAF9fwOarJnG1TRg4sx-23" value="" style="curved=1;endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;strokeColor=#FF0000;dashed=1;" parent="1" source="-zAF9fwOarJnG1TRg4sx-20" target="-zAF9fwOarJnG1TRg4sx-5" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="250" y="450" as="sourcePoint" />
            <mxPoint x="300" y="400" as="targetPoint" />
            <Array as="points">
              <mxPoint x="500" y="460" />
              <mxPoint x="495" y="380" />
              <mxPoint x="420" y="330" />
              <mxPoint x="260" y="310" />
              <mxPoint x="200" y="280" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="vfJMlR6atgEC0r89HJno-1" value="&lt;b&gt;mode: NAT&lt;br&gt;dest: 100.0.0.1&lt;br&gt;dest: 100.0.0.2&lt;br&gt;&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="340" y="420" width="100" height="60" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="-pybceitlNMbY67zZKVY" name="ipvs-test-skbpath">
    <mxGraphModel dx="2261" dy="796" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="aYkfA4ZF75HNwK-ypwmA-24" value="veth" style="text;html=1;strokeColor=#d79b00;fillColor=#ffe6cc;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="180" y="690" width="380" height="50" as="geometry" />
        </mxCell>
        <mxCell id="aYkfA4ZF75HNwK-ypwmA-18" value="bridge" style="text;html=1;strokeColor=#d6b656;fillColor=#fff2cc;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="180" y="570" width="380" height="50" as="geometry" />
        </mxCell>
        <mxCell id="MRsvWuQqJ5onnluyFUwx-8" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="MRsvWuQqJ5onnluyFUwx-1" target="MRsvWuQqJ5onnluyFUwx-2" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="MRsvWuQqJ5onnluyFUwx-1" value="curl 100.100.100.100:80" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;" parent="1" vertex="1">
          <mxGeometry x="-132.5" y="40" width="145" height="40" as="geometry" />
        </mxCell>
        <mxCell id="MRsvWuQqJ5onnluyFUwx-9" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="MRsvWuQqJ5onnluyFUwx-2" target="MRsvWuQqJ5onnluyFUwx-3" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="MRsvWuQqJ5onnluyFUwx-2" value="ip_queue_xmit" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="120" y="40" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="MRsvWuQqJ5onnluyFUwx-10" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="MRsvWuQqJ5onnluyFUwx-3" target="MRsvWuQqJ5onnluyFUwx-4" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="MRsvWuQqJ5onnluyFUwx-3" value="route" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="280" y="40" width="80" height="40" as="geometry" />
        </mxCell>
        <mxCell id="aYkfA4ZF75HNwK-ypwmA-4" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="MRsvWuQqJ5onnluyFUwx-4" target="VzEZOSOJXT12lBRm1pk1-1" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="MRsvWuQqJ5onnluyFUwx-4" value="LOCAL_OUT" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="440" y="40" width="80" height="40" as="geometry" />
        </mxCell>
        <mxCell id="aYkfA4ZF75HNwK-ypwmA-5" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;startArrow=none;startFill=0;" parent="1" source="VzEZOSOJXT12lBRm1pk1-1" target="aYkfA4ZF75HNwK-ypwmA-2" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="VzEZOSOJXT12lBRm1pk1-1" value="ip_vs_in_hook" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="420" y="250" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="aYkfA4ZF75HNwK-ypwmA-9" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="aYkfA4ZF75HNwK-ypwmA-2" target="aYkfA4ZF75HNwK-ypwmA-6" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="925" y="445" as="targetPoint" />
            <Array as="points">
              <mxPoint x="925" y="400" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="aYkfA4ZF75HNwK-ypwmA-2" value="&lt;b&gt;ip_vs_conn&lt;/b&gt;不存在，尝试schedule；&lt;br&gt;&lt;br&gt;ip_vs_try_to_schedule&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;|&amp;nbsp; tcp_conn_schedule&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; |&amp;nbsp;&amp;nbsp;ip_vs_service_find // 获取 &lt;b&gt;ip_vs_service&lt;/b&gt;，（ipvsadm命令添加）&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; |&amp;nbsp;&amp;nbsp;ip_vs_schedule&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;|&amp;nbsp; dest = ip_vs_rr_schedule // 使用 round-robin 来选择一个 &lt;b&gt;ip_vs_dest&lt;/b&gt;，（ipvsadm命令选择了rr算法）&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;|&amp;nbsp; &amp;nbsp;ip_vs_conn_new(dest) // 创建 &lt;b&gt;ip_vs_conn&lt;/b&gt;，&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;|&amp;nbsp;&amp;nbsp;ip_vs_nat_xmit&amp;nbsp; // 回调nat，（ipvsadm设置了NAT模式）&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; |&amp;nbsp;&amp;nbsp;__ip_vs_get_out_rt&amp;nbsp; // 根据dest查路由&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; |&amp;nbsp;&amp;nbsp;ip_vs_nat_send_or_cont&amp;nbsp; // 发送&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; |&amp;nbsp; if (!local) NF_HOOK(&lt;b&gt;LOCAL_OUT&lt;/b&gt;)&amp;nbsp; // 如果路由不是本地，则重走LOCAL_OUT钩子&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; |&amp;nbsp; &amp;nbsp;return NF_ACCEPT;" style="rounded=0;whiteSpace=wrap;html=1;align=left;dashed=1;" parent="1" vertex="1">
          <mxGeometry x="600" y="165" width="650" height="200" as="geometry" />
        </mxCell>
        <mxCell id="aYkfA4ZF75HNwK-ypwmA-10" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="aYkfA4ZF75HNwK-ypwmA-6" target="aYkfA4ZF75HNwK-ypwmA-7" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="aYkfA4ZF75HNwK-ypwmA-6" value="LOCAL_OUT" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="440" y="380" width="80" height="40" as="geometry" />
        </mxCell>
        <mxCell id="aYkfA4ZF75HNwK-ypwmA-62" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="aYkfA4ZF75HNwK-ypwmA-7" target="aYkfA4ZF75HNwK-ypwmA-13" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="350" y="470" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="aYkfA4ZF75HNwK-ypwmA-7" value="POST_ROUTING" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="430" y="450" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="aYkfA4ZF75HNwK-ypwmA-16" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="aYkfA4ZF75HNwK-ypwmA-13" target="aYkfA4ZF75HNwK-ypwmA-15" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="aYkfA4ZF75HNwK-ypwmA-13" value="__dev_queue_xmit" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="420" y="520" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="aYkfA4ZF75HNwK-ypwmA-21" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="aYkfA4ZF75HNwK-ypwmA-15" target="aYkfA4ZF75HNwK-ypwmA-20" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="aYkfA4ZF75HNwK-ypwmA-15" value="br_dev_xmit" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="420" y="580" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="aYkfA4ZF75HNwK-ypwmA-17" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="aYkfA4ZF75HNwK-ypwmA-2" target="aYkfA4ZF75HNwK-ypwmA-7" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="925" y="440" as="sourcePoint" />
            <mxPoint x="520" y="535" as="targetPoint" />
            <Array as="points">
              <mxPoint x="925" y="470" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="aYkfA4ZF75HNwK-ypwmA-23" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="aYkfA4ZF75HNwK-ypwmA-20" target="aYkfA4ZF75HNwK-ypwmA-22" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="aYkfA4ZF75HNwK-ypwmA-20" value="veth_xmit" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="420" y="700" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="aYkfA4ZF75HNwK-ypwmA-26" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;dashPattern=1 1;" parent="1" source="aYkfA4ZF75HNwK-ypwmA-22" target="aYkfA4ZF75HNwK-ypwmA-25" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="aYkfA4ZF75HNwK-ypwmA-22" value="__netif_rx" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="420" y="760" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="aYkfA4ZF75HNwK-ypwmA-29" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="aYkfA4ZF75HNwK-ypwmA-25" target="aYkfA4ZF75HNwK-ypwmA-28" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="aYkfA4ZF75HNwK-ypwmA-25" value="ip_rcv" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="420" y="960" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="aYkfA4ZF75HNwK-ypwmA-27" value="softirq" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="480" y="790" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="aYkfA4ZF75HNwK-ypwmA-31" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;dashPattern=1 1;entryX=0.824;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="aYkfA4ZF75HNwK-ypwmA-28" target="aYkfA4ZF75HNwK-ypwmA-30" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="480" y="1080" />
              <mxPoint x="480" y="1080" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="aYkfA4ZF75HNwK-ypwmA-28" value="tcp_v4_rcv" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="420" y="1020" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="aYkfA4ZF75HNwK-ypwmA-30" value="python3 http.server" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;" parent="1" vertex="1">
          <mxGeometry x="200" y="1080" width="340" height="30" as="geometry" />
        </mxCell>
        <mxCell id="aYkfA4ZF75HNwK-ypwmA-37" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="aYkfA4ZF75HNwK-ypwmA-34" target="aYkfA4ZF75HNwK-ypwmA-36" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="aYkfA4ZF75HNwK-ypwmA-34" value="tcp_v4_send" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="200" y="1020" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="aYkfA4ZF75HNwK-ypwmA-41" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="aYkfA4ZF75HNwK-ypwmA-36" target="aYkfA4ZF75HNwK-ypwmA-40" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="aYkfA4ZF75HNwK-ypwmA-36" value="__ip_local_out" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="200" y="960" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="aYkfA4ZF75HNwK-ypwmA-43" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="aYkfA4ZF75HNwK-ypwmA-40" target="aYkfA4ZF75HNwK-ypwmA-42" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="aYkfA4ZF75HNwK-ypwmA-40" value="LOCAL_OUT" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="220" y="890" width="80" height="40" as="geometry" />
        </mxCell>
        <mxCell id="aYkfA4ZF75HNwK-ypwmA-45" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="aYkfA4ZF75HNwK-ypwmA-42" target="aYkfA4ZF75HNwK-ypwmA-44" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="aYkfA4ZF75HNwK-ypwmA-42" value="POST_ROUTING" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="210" y="820" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="aYkfA4ZF75HNwK-ypwmA-47" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="aYkfA4ZF75HNwK-ypwmA-44" target="aYkfA4ZF75HNwK-ypwmA-46" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="aYkfA4ZF75HNwK-ypwmA-44" value="__dev_queue_xmit" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="200" y="760" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="aYkfA4ZF75HNwK-ypwmA-49" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="aYkfA4ZF75HNwK-ypwmA-46" target="aYkfA4ZF75HNwK-ypwmA-48" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="aYkfA4ZF75HNwK-ypwmA-46" value="veth_xmit" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="200" y="700" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="aYkfA4ZF75HNwK-ypwmA-51" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;dashPattern=1 1;" parent="1" source="aYkfA4ZF75HNwK-ypwmA-48" target="aYkfA4ZF75HNwK-ypwmA-50" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="aYkfA4ZF75HNwK-ypwmA-48" value="__netif_rx" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="200" y="640" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="aYkfA4ZF75HNwK-ypwmA-53" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="aYkfA4ZF75HNwK-ypwmA-50" target="aYkfA4ZF75HNwK-ypwmA-52" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="aYkfA4ZF75HNwK-ypwmA-50" value="br_handle_frame" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="200" y="580" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="aYkfA4ZF75HNwK-ypwmA-55" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="aYkfA4ZF75HNwK-ypwmA-52" target="aYkfA4ZF75HNwK-ypwmA-54" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="aYkfA4ZF75HNwK-ypwmA-52" value="ip_rcv" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="200" y="520" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="aYkfA4ZF75HNwK-ypwmA-57" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="aYkfA4ZF75HNwK-ypwmA-54" target="aYkfA4ZF75HNwK-ypwmA-56" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="aYkfA4ZF75HNwK-ypwmA-54" value="LOCAL_IN" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="220" y="380" width="80" height="40" as="geometry" />
        </mxCell>
        <mxCell id="aYkfA4ZF75HNwK-ypwmA-64" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="aYkfA4ZF75HNwK-ypwmA-56" target="aYkfA4ZF75HNwK-ypwmA-63" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="aYkfA4ZF75HNwK-ypwmA-56" value="ip_vs_out_hook" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="200" y="250" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="aYkfA4ZF75HNwK-ypwmA-58" value="softirq" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="200" y="610" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="aYkfA4ZF75HNwK-ypwmA-66" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="aYkfA4ZF75HNwK-ypwmA-63" target="aYkfA4ZF75HNwK-ypwmA-65" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="aYkfA4ZF75HNwK-ypwmA-63" value="获取&lt;b&gt;ip_vs_conn，&lt;/b&gt;处理回包；&lt;br&gt;&lt;br&gt;handle_response&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;|&amp;nbsp; tcp_snat_handler&amp;nbsp; // 根据ip_vs_conn中记录的信息，执行snat操作&lt;br&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;dashed=1;" parent="1" vertex="1">
          <mxGeometry x="-260" y="227.5" width="400" height="75" as="geometry" />
        </mxCell>
        <mxCell id="aYkfA4ZF75HNwK-ypwmA-67" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="aYkfA4ZF75HNwK-ypwmA-65" target="MRsvWuQqJ5onnluyFUwx-1" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="aYkfA4ZF75HNwK-ypwmA-65" value="tcp_v4_rcv" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-120" y="150" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="aYkfA4ZF75HNwK-ypwmA-68" value="发包" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="20" y="30" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="aYkfA4ZF75HNwK-ypwmA-69" value="收包" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="-60" y="100" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="aYkfA4ZF75HNwK-ypwmA-70" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;dashPattern=1 1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" target="aYkfA4ZF75HNwK-ypwmA-34" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="260" y="1080" as="sourcePoint" />
            <mxPoint x="490" y="1090" as="targetPoint" />
            <Array as="points" />
          </mxGeometry>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
